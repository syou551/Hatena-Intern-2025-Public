{{define "title"}}{{.Blog.Title}}{{end}}

{{define "body"}}
<section>
  <header class="flex w-full bg-gray-100 p-4 items-center shadow-md">
    <p class="flex items-center">
      <h1 class="flex font-bold"><a href="/blogs/{{.Blog.Path}}">{{.Blog.Title}}</a></h1>
      <p class="flex px-4">{{.Blog.Description}}</p>
    </p>
    {{if .IsAuthor}}
    <p class="flex ml-auto text-white bg-blue-500 hover:bg-blue-600 p-2 rounded-md"><a href="/my/blogs/{{.Blog.Path}}">管理</a></p>
    {{end}}
  </header>
  <section>
    {{range .Entries}}
    <article class="p-4 my-4 border border-gray-300 rounded-md shadow-sm">
      <header class="flex">
        <h1 class="text-lg p-2"><a href="/blogs/{{$.Blog.Path}}/entries/{{.ID}}">{{.Title}}</a></h1>
        <p class="ml-auto">
          <p class="text-gray-800 px-2">{{.PublishedAt}}</p>
          {{if $.IsAuthor}}
          <p class="text-blue-500 hover:text-blue-600"><a href="/my/blogs/{{$.Blog.Path}}/entries/{{.ID}}">編集</a></p>
          {{end}}
        </p>
      </header>
      <section class="prose">{{.BodyHTML | unescapedHTML}}</section>
    </article>
    {{end}}
    <footer>
      <p>
        <span>
          {{if .HasPrevPage}}
          <a href="/blogs/{{.Blog.Path}}?page={{.PrevPage}}">&lt;</a>
          {{end}}
        </span>
        <span>
          Page {{.Page}}
        </span>
        <span>
          {{if .HasNextPage}}
          <a href="/blogs/{{.Blog.Path}}?page={{.NextPage}}">&gt;</a>
          {{end}}
        </span>
      </p>
    </footer>
  </section>
</section>
{{end}}
